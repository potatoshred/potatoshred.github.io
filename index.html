<!DOCTYPE html>
<html lang="zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>东十三624</title>
	<link rel="stylesheet" href="./css/main.css">
	<link rel="stylesheet" href="./css/demo.css">
</head>

<body class="dark">
	<!-- <header class="centered" style="text-align: center;">
        <br><br><font style="text-align: center;size: 64rem;">沁苑六二四</font>
        <h1 class="title"  style="text-align: center;">沁苑六二四</h1>
        <ul class="link__content">

            <li class="content__item">
                <a href="http://www.htmleaf.com/css3/css3donghua/202310096089.html" class="link link--iocaste">
                    <span>返回班级主页</span>
                    <svg class="link__graphic link__graphic--slide" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">
                        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </header> -->

	<div class="container">
		<br><br>
		<br><br>
		<div class="centered">
			<div class="card border-left-behind">
				<div class="shadow" style="--url: url('../images/full.png')"></div>
				<div class="image background" style="--url: url('../images/Background.png')"></div>
				<div class="image cutout" style="--url: url('../images/cutout0.png')"></div>
				<a href="./pages/index.html"><div class="content">
					<h2 class="title">彭冲</h2>
					<p class="desc">Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>
				</div></a>
			</div>

			<div class="card border-left-behind">
				<div class="shadow" style="--url: url('../images/b-full.png')"></div>
				<div class="image background" style="--url: url('../images/b-background.png')"></div>
				<div class="image cutout" style="--url: url('../images/zoujin.png')"></div>
				<a href="https://thenameisnot.github.io/"><div class="content">
					<h2 class="title">邹晋</h2>
					<p class="desc">Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>
				</div></a>
			</div>
			<div class="card border-left-behind">
				<div class="shadow" style="--url: url('../images/full.png')"></div>
				<div class="image background" style="--url: url('../images/Background.png')"></div>
				<div class="image cutout" style="--url: url('../images/cutout.png')"></div>
				<div class="content">
					<h2 class="title">张致远</h2>
					<p class="desc">Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>
				</div>
			</div>
			<div class="card border-left-behind">
				<div class="shadow" style="--url: url('../images/b-full.png')"></div>
				<div class="image background" style="--url: url('../images/b-background.png')"></div>
				<div class="image cutout" style="--url: url('../images/syx.png')"></div>
				<div class="content">
					<h2 class="title">单煜轩</h2>
					<p class="desc">Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>
				</div>
			</div>
		</div>
	</div>

	<script>
		const angle = 20;
		const rotateCard = window;

		const lerp = (start, end, amount) => {
			return (1 - amount) * start + amount * end;
		};

		const remap = (value, oldMax, newMax) => {
			const newValue = (value + oldMax) * (newMax * 2) / (oldMax * 2) - newMax;
			return Math.min(Math.max(newValue, -newMax), newMax);
		};

		window.addEventListener("DOMContentLoaded", event => {
			const cards = document.querySelectorAll(".card");
			cards.forEach(e => {
				e.addEventListener("mousemove", event => {
					const rect = e.getBoundingClientRect();
					const centerX = (rect.left + rect.right) / 2;
					const centerY = (rect.top + rect.bottom) / 2;
					const posX = event.pageX - centerX;
					const posY = event.pageY - centerY;
					const x = remap(posX, rect.width / 2, angle);
					const y = remap(posY, rect.height / 2, angle);
					e.dataset.rotateX = x;
					e.dataset.rotateY = -y;
				});

				e.addEventListener("mouseout", event => {
					e.dataset.rotateX = 0;
					e.dataset.rotateY = 0;
				});
			});

			const update = () => {
				cards.forEach(e => {
					let currentX = parseFloat(e.style.getPropertyValue('--rotateY').slice(0, -1));
					let currentY = parseFloat(e.style.getPropertyValue('--rotateX').slice(0, -1));
					if (isNaN(currentX)) currentX = 0;
					if (isNaN(currentY)) currentY = 0;
					const x = lerp(currentX, e.dataset.rotateX, 0.05);
					const y = lerp(currentY, e.dataset.rotateY, 0.05);
					e.style.setProperty("--rotateY", x + "deg");
					e.style.setProperty("--rotateX", y + "deg");
				});
			};
			setInterval(update, 1000 / 60);
		});

	</script>
</body>

</html>